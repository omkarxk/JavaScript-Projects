<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks - Personal Workspace</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background-color: #fafafa;
            color: #37352f;
            line-height: 1.5;
            min-height: 100vh;
        }

        .header {
            background-color: white;
            border-bottom: 1px solid #e9e9e7;
            padding: 0 40px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-size: 16px;
            font-weight: 600;
            color: #37352f;
        }

        .workspace-info {
            font-size: 14px;
            color: #787774;
        }

        .main-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 100px 40px 40px 40px;
        }

        .page-header {
            margin-bottom: 40px;
        }

        .page-icon {
            font-size: 48px;
            margin-bottom: 16px;
            user-select: none;
        }

        .page-title {
            font-size: 40px;
            font-weight: 700;
            color: #37352f;
            margin-bottom: 8px;
            line-height: 1.2;
        }

        .page-subtitle {
            font-size: 16px;
            color: #787774;
            margin-bottom: 32px;
        }

        .stats-bar {
            display: flex;
            gap: 24px;
            margin-bottom: 32px;
            padding: 16px 0;
            border-bottom: 1px solid #e9e9e7;
        }

        .stat-item {
            font-size: 14px;
            color: #787774;
        }

        .stat-number {
            font-weight: 600;
            color: #37352f;
        }

        .add-task-section {
            margin-bottom: 32px;
        }

        .add-task-container {
            background: white;
            border: 1px solid #e9e9e7;
            border-radius: 8px;
            padding: 1px;
            transition: all 0.15s ease;
            position: relative;
        }

        .add-task-container:hover {
            border-color: #d3d1cb;
        }

        .add-task-container.focused {
            border-color: #2383e2;
            box-shadow: 0 0 0 2px rgba(35, 131, 226, 0.16);
        }

        .task-input {
            width: 100%;
            border: none;
            outline: none;
            padding: 12px 16px;
            font-size: 16px;
            background: transparent;
            color: #37352f;
            border-radius: 7px;
        }

        .task-input::placeholder {
            color: #9b9a97;
        }

        .input-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 16px;
            border-top: 1px solid #f1f1ef;
            background: #fbfbfa;
        }

        .input-hint {
            font-size: 13px;
            color: #9b9a97;
        }

        .add-btn {
            background: #2383e2;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .add-btn:hover {
            background: #1a73d1;
        }

        .add-btn:disabled {
            background: #e9e9e7;
            color: #9b9a97;
            cursor: not-allowed;
        }

        .tasks-container {
            background: white;
            border: 1px solid #e9e9e7;
            border-radius: 8px;
            overflow: hidden;
        }

        .tasks-header {
            padding: 16px 20px;
            border-bottom: 1px solid #f1f1ef;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fbfbfa;
        }

        .tasks-title {
            font-size: 14px;
            font-weight: 600;
            color: #37352f;
        }

        .clear-completed-btn {
            background: none;
            border: none;
            color: #787774;
            font-size: 13px;
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 4px;
            transition: all 0.15s ease;
        }

        .clear-completed-btn:hover {
            background: #f1f1ef;
            color: #37352f;
        }

        .task-item {
            display: flex;
            align-items: flex-start;
            padding: 12px 20px;
            border-bottom: 1px solid #f7f7f5;
            transition: all 0.15s ease;
            position: relative;
        }

        .task-item:last-child {
            border-bottom: none;
        }

        .task-item:hover {
            background: #fbfbfa;
        }

        .task-item.completed {
            opacity: 0.6;
        }

        .task-checkbox {
            width: 18px;
            height: 18px;
            border: 1.5px solid #d3d1cb;
            border-radius: 3px;
            margin-right: 12px;
            margin-top: 2px;
            cursor: pointer;
            transition: all 0.15s ease;
            position: relative;
            flex-shrink: 0;
        }

        .task-checkbox:hover {
            border-color: #9b9a97;
        }

        .task-checkbox.completed {
            background: #2383e2;
            border-color: #2383e2;
        }

        .task-checkbox.completed::after {
            content: '✓';
            position: absolute;
            color: white;
            font-size: 11px;
            font-weight: 600;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .task-content {
            flex: 1;
            min-width: 0;
        }

        .task-text {
            font-size: 16px;
            color: #37352f;
            line-height: 1.5;
            word-wrap: break-word;
            margin-bottom: 4px;
        }

        .task-text.completed {
            text-decoration: line-through;
            color: #9b9a97;
        }

        .task-meta {
            font-size: 13px;
            color: #9b9a97;
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .task-actions {
            opacity: 0;
            transition: opacity 0.15s ease;
            margin-left: 8px;
            flex-shrink: 0;
        }

        .task-item:hover .task-actions {
            opacity: 1;
        }

        .delete-btn {
            background: none;
            border: none;
            color: #9b9a97;
            font-size: 16px;
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.15s ease;
            line-height: 1;
        }

        .delete-btn:hover {
            background: #f1f1ef;
            color: #e03e3e;
        }

        .empty-state {
            text-align: center;
            padding: 80px 40px;
            color: #9b9a97;
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        .empty-title {
            font-size: 18px;
            font-weight: 600;
            color: #37352f;
            margin-bottom: 8px;
        }

        .empty-description {
            font-size: 14px;
            line-height: 1.4;
        }

        .bottom-actions {
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid #e9e9e7;
            display: flex;
            justify-content: center;
        }

        .clear-all-btn {
            background: none;
            border: 1px solid #e9e9e7;
            color: #787774;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .clear-all-btn:hover {
            border-color: #d3d1cb;
            color: #37352f;
        }

        .priority-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 6px;
        }

        .priority-high { background: #e03e3e; }
        .priority-medium { background: #f7931e; }
        .priority-low { background: #4caf50; }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                padding: 0 20px;
            }
            
            .main-content {
                padding: 80px 20px 20px 20px;
            }
            
            .page-title {
                font-size: 32px;
            }
            
            .stats-bar {
                flex-wrap: wrap;
                gap: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">Personal Workspace</div>
        <div class="workspace-info">Your Tasks</div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Page Header -->
        <div class="page-header">
            <div class="page-icon">✅</div>
            <h1 class="page-title">Tasks</h1>
            <p class="page-subtitle">Keep track of your daily tasks and goals</p>
        </div>

        <!-- Stats Bar -->
        <div class="stats-bar js-stats-bar">
            <div class="stat-item">
                <span class="stat-number js-total-count">3</span> total
            </div>
            <div class="stat-item">
                <span class="stat-number js-completed-count">1</span> completed
            </div>
            <div class="stat-item">
                <span class="stat-number js-pending-count">2</span> pending
            </div>
            <div class="stat-item">
                Last updated <span class="stat-number">just now</span>
            </div>
        </div>

        <!-- Add Task Section -->
        <div class="add-task-section">
            <div class="add-task-container js-add-container">
                <input 
                    type="text" 
                    class="task-input js-task-input" 
                    placeholder="Add a new task..."
                    maxlength="200"
                >
                <div class="input-actions">
                    <div class="input-hint">Press Enter to add task</div>
                    <button class="add-btn js-add-btn" onclick="addTodo()">Add Task</button>
                </div>
            </div>
        </div>

        <!-- Tasks Container -->
        <div class="tasks-container">
            <div class="tasks-header">
                <div class="tasks-title">All Tasks</div>
                <button class="clear-completed-btn" onclick="clearCompletedTasks()">Clear completed</button>
            </div>
            
            <div class="js-tasks-list">
                <!-- Sample Task 1 - Pending -->
                <div class="task-item">
                    <div class="task-checkbox" onclick="toggleTodo(1)"></div>
                    <div class="task-content">
                        <div class="task-text">Review JavaScript fundamentals and practice coding exercises</div>
                        <div class="task-meta">
                            <span>Created today at 9:30 AM</span>
                            <span>•</span>
                            <span><div class="priority-indicator priority-high"></div>High priority</span>
                        </div>
                    </div>
                    <div class="task-actions">
                        <button class="delete-btn" onclick="deleteTodo(1)">×</button>
                    </div>
                </div>

                <!-- Sample Task 2 - Completed -->
                <div class="task-item completed">
                    <div class="task-checkbox completed"></div>
                    <div class="task-content">
                        <div class="task-text completed">Build Rock Paper Scissors game with persistent score tracking</div>
                        <div class="task-meta">
                            <span>Completed yesterday at 4:15 PM</span>
                            <span>•</span>
                            <span><div class="priority-indicator priority-medium"></div>Medium priority</span>
                        </div>
                    </div>
                    <div class="task-actions">
                        <button class="delete-btn" onclick="deleteTodo(2)">×</button>
                    </div>
                </div>

                <!-- Sample Task 3 - Pending -->
                <div class="task-item">
                    <div class="task-checkbox" onclick="toggleTodo(3)"></div>
                    <div class="task-content">
                        <div class="task-text">Create professional todo list application with localStorage</div>
                        <div class="task-meta">
                            <span>Created today at 11:45 AM</span>
                            <span>•</span>
                            <span><div class="priority-indicator priority-medium"></div>Medium priority</span>
                        </div>
                    </div>
                    <div class="task-actions">
                        <button class="delete-btn" onclick="deleteTodo(3)">×</button>
                    </div>
                </div>
            </div>

            <!-- Empty State (hidden when tasks exist) -->
            <!-- <div class="empty-state">
                <div class="empty-icon">📝</div>
                <div class="empty-title">No tasks yet</div>
                <div class="empty-description">Add your first task above to get started with organizing your work.</div>
            </div> -->
        </div>

        <!-- Bottom Actions -->
        <div class="bottom-actions">
            <button class="clear-all-btn" onclick="clearAllTodos()">Clear all tasks</button>
        </div>
    </div>

    <script>
        // FULLY FUNCTIONAL TODO APP - Same patterns as Rock Paper Scissors!
        
        // Load todos from localStorage (like your score loading)
        let todos = JSON.parse(localStorage.getItem('todos')) || [];

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            displayTodos();
            updateStats();
        });

        function setupEventListeners() {
            const input = document.querySelector('.js-task-input');
            const container = document.querySelector('.js-add-container');
            const addBtn = document.querySelector('.js-add-btn');

            // Style the input container on focus
            input.addEventListener('focus', () => {
                container.classList.add('focused');
            });

            input.addEventListener('blur', () => {
                container.classList.remove('focused');
            });

            // Add todo when Enter is pressed
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && input.value.trim()) {
                    addTodo();
                }
            });

            // Enable/disable add button based on input
            input.addEventListener('input', () => {
                addBtn.disabled = !input.value.trim();
            });
        }

        // ADD TODO FUNCTION - Like your playGame function!
        function addTodo() {
            const input = document.querySelector('.js-task-input');
            const text = input.value.trim();
            
            if (!text) return;

            // Create new todo object (like creating game result)
            const newTodo = {
                id: Date.now(), // Unique ID using timestamp
                text: text,
                completed: false,
                createdAt: new Date(),
                priority: 'medium' // Default priority
            };

            // Add to todos array
            todos.push(newTodo);
            
            // Save to localStorage (like saving score)
            saveTodos();
            
            // Clear input and disable button
            input.value = '';
            document.querySelector('.js-add-btn').disabled = true;
            
            // Update display (like updateScoreElement)
            displayTodos();
            updateStats();
        }

        // TOGGLE TODO COMPLETION - Like win/loss logic!
        function toggleTodo(id) {
            // Find the todo (like finding game result)
            const todo = todos.find(t => t.id === id);
            if (todo) {
                // Toggle completed status
                todo.completed = !todo.completed;
                
                // Save and update display
                saveTodos();
                displayTodos();
                updateStats();
            }
        }

        // DELETE TODO FUNCTION
        function deleteTodo(id) {
            // Remove todo from array (filter out the one with this ID)
            todos = todos.filter(t => t.id !== id);
            
            // Save and update display
            saveTodos();
            displayTodos();
            updateStats();
        }

        // CLEAR COMPLETED TASKS
        function clearCompletedTasks() {
            // Keep only incomplete todos
            todos = todos.filter(t => !t.completed);
            
            // Save and update display
            saveTodos();
            displayTodos();
            updateStats();
        }

        // CLEAR ALL TODOS - Like your reset score!
        function clearAllTodos() {
            if (confirm('Are you sure you want to clear all tasks? This action cannot be undone.')) {
                // Empty the todos array
                todos = [];
                
                // Save and update display
                saveTodos();
                displayTodos();
                updateStats();
            }
        }

        // SAVE TODOS TO LOCALSTORAGE - Like saving score!
        function saveTodos() {
            localStorage.setItem('todos', JSON.stringify(todos));
        }

        // DISPLAY TODOS - Like updateScoreElement!
        function displayTodos() {
            const container = document.querySelector('.js-tasks-list');
            
            if (todos.length === 0) {
                // Show empty state
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">📝</div>
                        <div class="empty-title">No tasks yet</div>
                        <div class="empty-description">Add your first task above to get started with organizing your work.</div>
                    </div>
                `;
                return;
            }

            // Create HTML for all todos
            let todosHTML = '';
            
            // Sort todos: incomplete first, then completed
            const sortedTodos = [...todos].sort((a, b) => {
                if (a.completed === b.completed) {
                    return b.createdAt - a.createdAt; // Newer first
                }
                return a.completed - b.completed; // Incomplete first
            });

            sortedTodos.forEach(todo => {
                const priorityClass = `priority-${todo.priority}`;
                const completedClass = todo.completed ? 'completed' : '';
                const checkboxClass = todo.completed ? 'completed' : '';
                const textClass = todo.completed ? 'completed' : '';
                
                todosHTML += `
                    <div class="task-item ${completedClass}">
                        <div class="task-checkbox ${checkboxClass}" onclick="toggleTodo(${todo.id})"></div>
                        <div class="task-content">
                            <div class="task-text ${textClass}">${todo.text}</div>
                            <div class="task-meta">
                                <span>Created ${formatDate(new Date(todo.createdAt))}</span>
                                <span>•</span>
                                <span><div class="priority-indicator ${priorityClass}"></div>${todo.priority} priority</span>
                            </div>
                        </div>
                        <div class="task-actions">
                            <button class="delete-btn" onclick="deleteTodo(${todo.id})">×</button>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = todosHTML;
        }

        // UPDATE STATS - Like updating score display!
        function updateStats() {
            const totalCount = todos.length;
            const completedCount = todos.filter(t => t.completed).length;
            const pendingCount = totalCount - completedCount;

            document.querySelector('.js-total-count').textContent = totalCount;
            document.querySelector('.js-completed-count').textContent = completedCount;
            document.querySelector('.js-pending-count').textContent = pendingCount;
        }

        // FORMAT DATE HELPER
        function formatDate(date) {
            const now = new Date();
            const diff = now - date;
            const minutes = Math.floor(diff / 60000);
            const hours = Math.floor(diff / 3600000);
            const days = Math.floor(diff / 86400000);

            if (minutes < 1) return 'just now';
            if (minutes < 60) return `${minutes} minutes ago`;
            if (hours < 24) return `${hours} hours ago`;
            if (days === 1) return 'yesterday';
            return date.toLocaleDateString();
        }
    </script>
</body>
</html>